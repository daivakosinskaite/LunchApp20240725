{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\daiva\\\\Desktop\\\\reno\\\\frontend\\\\src\\\\components\\\\AddAdForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n// AddAdForm komponentas, kuris naudojamas skelbimui pridėti arba atnaujinti\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddAdForm = ({\n  ad,\n  onSuccess\n}) => {\n  _s();\n  // Skelbimo formos būsenos\n  const [title, setTitle] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n  const [price, setPrice] = useState('');\n  const [city, setCity] = useState('');\n\n  // useEffect hook'as naudojamas nustatyti formos laukus, kai ad kinta\n  useEffect(() => {\n    if (ad) {\n      setTitle(ad.title);\n      setImageUrl(ad.imageUrl);\n      setPrice(ad.price);\n      setCity(ad.city);\n    }\n  }, [ad]);\n\n  // Formos pateikimo tvarkyklė\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const token = localStorage.getItem('token');\n    const url = ad ? `http://localhost:5000/ads/${ad._id}` : 'http://localhost:5000/ads';\n    const method = ad ? 'PUT' : 'POST';\n    try {\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          title,\n          imageUrl,\n          price,\n          city\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to save ad');\n      }\n      alert('Ad saved successfully');\n      onSuccess();\n    } catch (error) {\n      console.error('Error saving ad:', error);\n      alert('Failed to save ad');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"add-ad-form\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: ad ? 'Update Ad' : 'Add Ad'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: title,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Image URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: imageUrl,\n        onChange: e => setImageUrl(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: price,\n        onChange: e => setPrice(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"City\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: city,\n        onChange: e => setCity(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: ad ? 'Update Ad' : 'Add Ad'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(AddAdForm, \"Gjg4BrJLgY4ynvoPqwlw/E/j6Ic=\");\n_c = AddAdForm;\nexport default AddAdForm;\nvar _c;\n$RefreshReg$(_c, \"AddAdForm\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","AddAdForm","ad","onSuccess","_s","title","setTitle","imageUrl","setImageUrl","price","setPrice","city","setCity","handleSubmit","e","preventDefault","token","localStorage","getItem","url","_id","method","response","fetch","headers","body","JSON","stringify","ok","Error","alert","error","console","className","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/daiva/Desktop/reno/frontend/src/components/AddAdForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n// AddAdForm komponentas, kuris naudojamas skelbimui pridėti arba atnaujinti\r\nconst AddAdForm = ({ ad, onSuccess }) => {\r\n  // Skelbimo formos būsenos\r\n  const [title, setTitle] = useState('');\r\n  const [imageUrl, setImageUrl] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [city, setCity] = useState('');\r\n\r\n  // useEffect hook'as naudojamas nustatyti formos laukus, kai ad kinta\r\n  useEffect(() => {\r\n    if (ad) {\r\n      setTitle(ad.title);\r\n      setImageUrl(ad.imageUrl);\r\n      setPrice(ad.price);\r\n      setCity(ad.city);\r\n    }\r\n  }, [ad]);\r\n\r\n  // Formos pateikimo tvarkyklė\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const token = localStorage.getItem('token');\r\n    const url = ad ? `http://localhost:5000/ads/${ad._id}` : 'http://localhost:5000/ads';\r\n    const method = ad ? 'PUT' : 'POST';\r\n\r\n    try {\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ title, imageUrl, price, city })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to save ad');\r\n      }\r\n\r\n      alert('Ad saved successfully');\r\n      onSuccess();\r\n    } catch (error) {\r\n      console.error('Error saving ad:', error);\r\n      alert('Failed to save ad');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"add-ad-form\" onSubmit={handleSubmit}>\r\n      <h2>{ad ? 'Update Ad' : 'Add Ad'}</h2>\r\n      <div className=\"form-group\">\r\n        <label>Title</label>\r\n        <input\r\n          type=\"text\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Image URL</label>\r\n        <input\r\n          type=\"text\"\r\n          value={imageUrl}\r\n          onChange={(e) => setImageUrl(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Price</label>\r\n        <input\r\n          type=\"text\"\r\n          value={price}\r\n          onChange={(e) => setPrice(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>City</label>\r\n        <input\r\n          type=\"text\"\r\n          value={city}\r\n          onChange={(e) => setCity(e.target.value)}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">{ad ? 'Update Ad' : 'Add Ad'}</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddAdForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}